# Enmusiquer プロジェクト 現状サマリ（2026-02 時点）

本ドキュメントは、Enmusiquer を Rails から FastAPI へ移行し、
モバイルアプリとして再構築するにあたり、
**現時点で確定している事項のみ**を整理したものである。

---

## 1. プロジェクト概要

### 1.1 コンセプト
音楽の「特徴タグ」を軸に、
**スキマ時間で自分の好みに合う曲に出会える**音楽発見アプリ。

- 曲そのものではなく「印象・構成・シーン」などのタグで探す
- ユーザーの好みタグに合致するほどおすすめ度が高くなる
- 投稿型（UGC）だが、ライト層でも使いやすさ重視

---

## 2. ゴール・利用シーン

### 2.1 最優先ゴール
- 好みの曲に“出会う”こと（発見）

### 2.2 主な利用シーン
- 通勤・通学などの短時間
- その他スキマ時間での利用

---

## 3. 想定ユーザー

- 音楽好きの一般ユーザー（ライト層含む）
- 年齢層：10代〜50代以上（制限なし）

---

## 4. 技術方針（確定）

### 4.1 リポジトリ構成
- **monorepo**
- フロントエンド / バックエンド / インフラ / ドキュメントをすべて1リポジトリに格納

enmusiquer/
    frontend/
    backend/
    infra/
    docs/


### 4.2 バックエンド
- **FastAPI**
- DB：PostgreSQL
- ORM：SQLAlchemy
- マイグレーション：Alembic

### 4.3 フロントエンド
- 将来的に iOS / Android ストア配布
- 技術選定は未確定（後工程）

### 4.4 インフラ
- AWS を前提とする（詳細構成は未確定）

---

## 5. 曲データの扱い

### 5.1 曲の追加方法
- **追加労力を最小化**
- 基本は URL 貼り付け
  - YouTube / Spotify / Apple Music / SoundCloud
- URL から以下を自動補完
  - 曲名
  - アーティスト名
  - サムネイル等
- 自動補完後に手動修正可能

### 5.2 アーティスト情報の考え方
- 以下を分けて保持する方針
  - 表示用アーティスト名（例：星井美希）
  - シリーズ・作品枠（例：THE IDOLM@STER）
  - アルバムアーティスト名（必要に応じて）

### 5.3 再生方法
- MVPでは **外部アプリ / ブラウザ遷移**
- アプリ内埋め込み再生は将来検討

---

## 6. タグ設計（中核要素）

### 6.1 タグの種類
- 曲の印象（爽やか / 切ない / 重低音 など）
- 構成・技術（ハモリ綺麗 / 転調 / サビ強 など）
- シーン（夏 / 夜 / 雨 / 作業用 など）
- ジャンル（EDM / ロック 等）
- 数値系（BPM / キー）

### 6.2 タグ入力方式
- 候補から選択 ＋ 自由入力も可

### 6.3 表記ゆれ対策
- 初期は許容
- **後から同義語を統合**する運用方針

---

## 7. 好み判定・レコメンド

### 7.1 好みの登録方法
- 好きなタグのフォロー
- 曲への Like / Skip
- 初回診断（質問形式で好みタグを設定）

### 7.2 好みスコア
- **一致タグ数ベースのシンプルな方式**
- 複雑なMLは当面行わない

### 7.3 おすすめ表示
- 好みスコア順で表示

---

## 8. 主要画面（MVP想定）

- 新着
- 人気 / ランキング
- タグ検索
- 曲詳細
- 曲投稿（追加）
- マイページ（好みタグ / 保存）
- 保存（あとで聴く）
- 通知一覧
- AIレコメンド（ルールベース）

### 後回しとする機能
- コメント
- ユーザーフォロー
- DM
- プレイリスト

---

## 9. アカウント・認証

### 9.1 ログイン要否
- 閲覧：ログイン不要
- 投稿・保存：ログイン必須

### 9.2 ログイン方式
- Google
- X（Twitter）
- メール

---

## 10. SNS共有

- X（旧Twitter）向けに
  - **テンプレ文章を生成してツイートできる機能**を提供

---

## 11. 投稿とモデレーション

- 投稿範囲：全体公開
- 不適切対策
  - 通報機能
  - NGワード
  - 管理者による削除

---

## 12. 通知

- 好みに近い新着曲が追加された際に通知

---

## 13. データ移行（Rails → FastAPI）

### 13.1 移行方針
- 既存データは引き継ぐ（seeds.rbにある分だけ）

### 13.2 移行対象
- 曲
- タグ
- 曲-タグ紐付け
- Like / お気に入り

### 13.3 管理権限
- 既存データは **AKADRA アカウント（本人）が管理可能**とする

---

## 14. リリース形態

- 初期リリースは **iOS / Android ストアアプリ**

---

## 15. デザイン・世界観

- 既存の音楽アプリを参考にした
  **音楽アプリらしいUI/UX世界観**
- 奇抜さよりも直感性・親しみやすさを重視

---

## 16. 未確定事項（今後決める）
- フロントエンド技術選定
- AWS 構成詳細
- Push通知の実装方式
- 管理画面の範囲
- AIレコメンドの高度化タイミング