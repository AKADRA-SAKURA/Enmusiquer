# Enmusiquer 編集履歴

最終更新: 2026-02-12

## 2026-02-12

- `d8f40e2` 1st commit
  - プロジェクト初期構成を追加。

- `be682d8` 課金フラグ運用のAPI設計固定
  - リリース時に課金開始へ切り替えるための方針を整理。

- `ab862a4` API本体テスト拡充SQLite互換修正
  - APIテストを拡充。
  - SQLite互換性まわりを修正。

- `8e4bdd4` feat(backend)APIレスポンス契約の明確化、CIテスト自動化、DB型方針注記を追加
  - `response_model` を明示してAPI契約を明確化。
  - GitHub Actionsでbackendテストの自動実行を追加。
  - AlembicにDB型運用方針の注記を追加。

- `6bbd298` feat(terraform): shared基盤(VPC/ECR/Route53)実装とdev/prodのshared state参照を追加
  - `shared` 環境にVPC/ECR/Route53の実体定義を追加。
  - `dev/prod` から `terraform_remote_state` で `shared` を参照可能に変更。

- `b413774` feat(terraform): ALB/ECS/RDSを実装しruntime_enabledで課金前ON/OFF可能にする
  - `runtime_enabled` で実行系リソース(ALB/ECS/RDS)の作成を切替可能に変更。
  - 課金開始前は `runtime_enabled=false` で運用できる構成に更新。

## 2026-02-12（未コミット作業）

- `cloudfront` / `waf` / `monitoring` モジュールの実体化を実施。
  - CloudFront: S3オリジン + OAC + Distribution + バケットポリシー。
  - WAF: Managed Rules + Rate Limit + ALB関連付け。
  - Monitoring: ECS/ALB/RDS向けCloudWatchアラーム。
- `dev/prod` の `variables.tf` / `main.tf` / `outputs.tf` / `terraform.tfvars.example` を更新。
  - `edge_enabled` / `monitoring_enabled` など段階有効化フラグを追加。

## 運用ルール

- 作業完了ごとに、日付・コミットID・実施内容を本ファイルへ追記する。
- コミット前の作業は「未コミット作業」欄に記載し、コミット後に正式履歴へ移動する。
